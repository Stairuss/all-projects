# Star Wars Telegram Bot

**ü§ñ –ë–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –≤—Å–µ–ª–µ–Ω–Ω–æ–π Star Wars —á–µ—Ä–µ–∑ Telegram API**


## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- üìã –í—ã–±–æ—Ä —Ç–µ–º: –ø–µ—Ä—Å–æ–Ω–∞–∂–∏, —Ñ–∏–ª—å–º—ã, –ø–ª–∞–Ω–µ—Ç—ã, —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏, –∑–≤–µ–∑–¥–æ–ª–µ—Ç—ã, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
- üîç –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º SWAPI
- üíæ SQLite –±–∞–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìú –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π


## üì± –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
**/start** ‚Äî –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∫–∞–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π

**/help** ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

**/history** ‚Äî –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–∏—Å–∫ –ø–æ SWAPI (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏)
**–í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** ‚Üí **–ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é** ‚Üí **—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã SWAPI**

**–õ—é–±–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è** (–ü–µ—Ä—Å–æ–Ω–∞–∂–∏, –§–∏–ª—å–º—ã, –ü–ª–∞–Ω–µ—Ç—ã, –†–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏, –ó–≤–µ–∑–¥–æ–ª–µ—Ç—ã, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç):


## üåê –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–Ω–ª–∞–π–Ω —Å–µ—Ä–≤–∏—Å—ã

### SWAPI.dev (Star Wars API)
**–ë–∞–∑–æ–≤—ã–π URL:** [https://swapi.info/]

**–î–æ—Å—Ç—É–ø–Ω—ã–µ endpoints:**

| –ú–µ—Ç–æ–¥ |   Endpoint   |             –û–ø–∏—Å–∞–Ω–∏–µ             |
|-------|--------------|----------------------------------|
| `GET` | `/people`    | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π           |
| `GET` | `/planets`   | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–ª–∞–Ω–µ—Ç               |
| `GET` | `/films`     | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∏–ª—å–º–æ–≤              |
| `GET` | `/species`   | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –≤–∏–¥–æ–≤                |
| `GET` | `/starships` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–≤–µ–∑–¥–æ–ª—ë—Ç–æ–≤          |
| `GET` | `/vehicles`  | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ |

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**
```bash
curl "https://swapi.info/{category}/{id}"
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π**
```bash
curl "https://swapi.info/people"
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ "Luke Skywalker":**
```bash
curl "https://swapi.info/people/1"
```

**–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥—ã–π endpoint:**

### `/people` ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
```json
{
    "name": "Luke Skywalker",
    "height": "172",
	"mass": "77",
	"hair_color": "blond",
    "skin_color": "fair",
    "eye_color": "blue",
    "birth_year": "19BBY",
    "gender": "male",
    "homeworld": "https://swapi.info/api/planets/1",
	"films": [
		"https://swapi.info/api/films/1",
		"https://swapi.info/api/films/2",
		"https://swapi.info/api/films/3",
		"https://swapi.info/api/films/6"
	],
	"species": [],
	"vehicles": [
		"https://swapi.info/api/vehicles/14",
		"https://swapi.info/api/vehicles/30"
	],
	"starships": [
		"https://swapi.info/api/starships/12",
		"https://swapi.info/api/starships/22"
	]
}
```

### `/films` ‚Äî —Ñ–∏–ª—å–º—ã
```json
{
    "title": "A New Hope",
	"episode_id": 4,
	"opening_crawl": "It is a period of civil war.\r\nRebel spaceships, striking\r\nfrom a hidden base, have won\r\ntheir first victory against\r\nthe evil Galactic Empire.\r\n\r\nDuring the battle, Rebel\r\nspies managed to steal secret\r\nplans to the Empire's\r\nultimate weapon, the DEATH\r\nSTAR, an armored space\r\nstation with enough power\r\nto destroy an entire planet.\r\n\r\nPursued by the Empire's\r\nsinister agents, Princess\r\nLeia races home aboard her\r\nstarship, custodian of the\r\nstolen plans that can save her\r\npeople and restore\r\nfreedom to the galaxy....",
	"director": "George Lucas",
	"producer": "Gary Kurtz, Rick McCallum",
	"release_date": "1977-05-25",
	"characters": [
		"https://swapi.info/api/people/1",
		"https://swapi.info/api/people/2",
		"https://swapi.info/api/people/3",
		"https://swapi.info/api/people/4",
		"https://swapi.info/api/people/5",
		"https://swapi.info/api/people/6",
		"https://swapi.info/api/people/7",
		"https://swapi.info/api/people/8",
		"https://swapi.info/api/people/9",
		"https://swapi.info/api/people/10",
		"https://swapi.info/api/people/12",
		"https://swapi.info/api/people/13",
		"https://swapi.info/api/people/14",
		"https://swapi.info/api/people/15",
		"https://swapi.info/api/people/16",
		"https://swapi.info/api/people/18",
		"https://swapi.info/api/people/19",
		"https://swapi.info/api/people/81"
	],
	"planets": [
		"https://swapi.info/api/planets/1",
		"https://swapi.info/api/planets/2",
		"https://swapi.info/api/planets/3"
	],
	"starships": [
		"https://swapi.info/api/starships/2",
		"https://swapi.info/api/starships/3",
		"https://swapi.info/api/starships/5",
		"https://swapi.info/api/starships/9",
		"https://swapi.info/api/starships/10",
		"https://swapi.info/api/starships/11",
		"https://swapi.info/api/starships/12",
		"https://swapi.info/api/starships/13"
	],
	"vehicles": [
		"https://swapi.info/api/vehicles/4",
		"https://swapi.info/api/vehicles/6",
		"https://swapi.info/api/vehicles/7",
		"https://swapi.info/api/vehicles/8"
	],
	"species": [
		"https://swapi.info/api/species/1",
		"https://swapi.info/api/species/2",
		"https://swapi.info/api/species/3",
		"https://swapi.info/api/species/4",
		"https://swapi.info/api/species/5"
	]
}
```

### `/planets` ‚Äî –ø–ª–∞–Ω–µ—Ç—ã
```json
{
    "name": "Tatooine",
	"rotation_period": "23",
	"orbital_period": "304",
	"diameter": "10465",
	"climate": "arid",
	"gravity": "1 standard",
	"terrain": "desert",
	"surface_water": "1",
	"population": "200000",
	"residents": [
		"https://swapi.info/api/people/1",
		"https://swapi.info/api/people/2",
		"https://swapi.info/api/people/4",
		"https://swapi.info/api/people/6",
		"https://swapi.info/api/people/7",
		"https://swapi.info/api/people/8",
		"https://swapi.info/api/people/9",
		"https://swapi.info/api/people/11",
		"https://swapi.info/api/people/43",
		"https://swapi.info/api/people/62"
	],
	"films": [
		"https://swapi.info/api/films/1",
		"https://swapi.info/api/films/3",
		"https://swapi.info/api/films/4",
		"https://swapi.info/api/films/5",
		"https://swapi.info/api/films/6"
	]
}
```

### `/species` ‚Äî —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏
```json
{
    "name": "Human",
	"classification": "mammal",
	"designation": "sentient",
	"average_height": "180",
	"skin_colors": "caucasian, black, asian, hispanic",
	"hair_colors": "blonde, brown, black, red",
	"eye_colors": "brown, blue, green, hazel, grey, amber",
	"average_lifespan": "120",
	"homeworld": "https://swapi.info/api/planets/9",
	"language": "Galactic Basic",
	"people": [
		"https://swapi.info/api/people/66",
		"https://swapi.info/api/people/67",
		"https://swapi.info/api/people/68",
		"https://swapi.info/api/people/74"
	],
	"films": [
		"https://swapi.info/api/films/1",
		"https://swapi.info/api/films/2",
		"https://swapi.info/api/films/3",
		"https://swapi.info/api/films/4",
		"https://swapi.info/api/films/5",
		"https://swapi.info/api/films/6"
	]
}
```

### `/starships` ‚Äî –∑–≤–µ–∑–¥–æ–ª–µ—Ç—ã
```json
{
    "name": "CR90 corvette",
	"model": "CR90 corvette",
	"manufacturer": "Corellian Engineering Corporation",
	"cost_in_credits": "3500000",
	"length": "150",
	"max_atmosphering_speed": "950",
	"crew": "30-165",
	"passengers": "600",
	"cargo_capacity": "3000000",
	"consumables": "1 year",
	"hyperdrive_rating": "2.0",
	"MGLT": "60",
	"starship_class": "corvette",
	"pilots": [],
	"films": [
		"https://swapi.info/api/films/1",
		"https://swapi.info/api/films/3",
		"https://swapi.info/api/films/6"
	]
}
```

### `/vehicles` ‚Äî —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
```json
{
    "name": "Sand Crawler",
	"model": "Digger Crawler",
	"manufacturer": "Corellia Mining Corporation",
	"cost_in_credits": "150000",
	"length": "36.8 ",
	"max_atmosphering_speed": "30",
	"crew": "46",
	"passengers": "30",
	"cargo_capacity": "50000",
	"consumables": "2 months",
	"vehicle_class": "wheeled",
	"pilots": [],
	"films": [
		"https://swapi.info/api/films/1",
		"https://swapi.info/api/films/5"
	]
}
```


## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
StarWarsBot/
‚îÇ
‚îú‚îÄ‚îÄ üì° api/                   # –ö–ª–∏–µ–Ω—Ç SWAPI (requests/aiohttp)
‚îú‚îÄ‚îÄ üóÑÔ∏è database/              # SQLite –º–æ–¥–µ–ª–∏ + CRUD
‚îú‚îÄ‚îÄ ‚öôÔ∏è handlers/              # –•–µ–Ω–¥–ª–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ Telegram
‚îú‚îÄ‚îÄ ‚å®Ô∏è keyboards/             # InlineKeyboardMarkup –∏ ReplyKeyboardMarkup –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ üîß models/                # –ú–æ–¥–µ–ª–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –≤–∏–¥–µ @dataclasses
‚îú‚îÄ‚îÄ üß† state/                 # –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ üõ†Ô∏è utils/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è .env.template          # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ .env
‚îú‚îÄ‚îÄ üö´ .gitignore             # –°–ø–∏—Å–æ–∫ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ üöÄ loader.py              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ üéØ main.py                # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îî‚îÄ‚îÄ üì¶ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```


## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ö–ª–æ–Ω–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç**
```bash
git clone <repo>
cd StarWarsBot
```

2. **–°–æ–∑–¥–∞–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate  # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥**
```env
# config/.env
BOT_TOKEN='–í–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è –±–æ—Ç–∞, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç @BotFather'
```

5. **–ó–∞–ø—É—Å—Ç–∏**
```bash
python main.py
```


## üìö –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **pyTelegramBotAPI** ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Telegram Bot API 
- **aiohttp** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è SWAPI –∑–∞–ø—Ä–æ—Å–æ–≤
- **sqlite3** ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –ë–î –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Å—Ç–æ—Ä–∏–∏
- **Type hints** ‚Äî –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Black** ‚Äî –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞


## üß™ FSM –°–æ—Å—Ç–æ—è–Ω–∏—è
```
StateStarWars (pyTelegramBotAPI):
‚îÇ
‚îú‚îÄ‚îÄ choosing_a_topic    # üìã –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ peoples             # üë§ –ü–æ–∏—Å–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
‚îú‚îÄ‚îÄ films               # üé¨ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤
‚îú‚îÄ‚îÄ planets             # üåå –ü–æ–∏—Å–∫ –ø–ª–∞–Ω–µ—Ç
‚îú‚îÄ‚îÄ species             # üß¨ –ü–æ–∏—Å–∫ –≤–∏–¥–æ–≤
‚îú‚îÄ‚îÄ starships           # üöÄ –ü–æ–∏—Å–∫ –∑–≤–µ–∑–¥–æ–ª—ë—Ç–æ–≤
‚îî‚îÄ‚îÄ vehicles            # üöó –ü–æ–∏—Å–∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞

```

